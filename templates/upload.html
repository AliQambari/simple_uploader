<!doctype html>
<title>ارسال فایل به کافی نت آفتاب</title>
<style>
    #Progress_Status {
      width: 50%;
      background-color: #ddd;
    }
    #myprogressBar {
      width: 2%;
      height: 20px;
      background-color: #4CAF50;
    }
    </style>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">

</head>
<h2>فایل را انتخاب کنید</h2>
<p>
{% with messages = get_flashed_messages() %}
{% if messages %}
<ul class=flashes>
{% for message in messages %}
<li>{{ message }}</li>
{% endfor %}
</ul>
{% endif %}
{% endwith %}
</p>
<form method="post" action="/" enctype="multipart/form-data">
<dl>
<p>
<input type="file" name="file" id = "file" autocomplete="off" required >
</p>
</dl>
<p>
<input onclick="update()" type="submit" value="ارسال">
</p>

</form>
<div id="Progress_Status">
    <div id="myprogressBar"></div>
  </div>
  <script>
    function update() {
        var element = document.getElementById("myprogressBar");   
        var width = 1;
        var identity = setInterval(scene, 10);
        function scene() {
        if (width >= 100) {
            clearInterval(identity);
        } else {
            width++; 
            element.style.width = width + '%'; 
            }
        }
    }
    </script>